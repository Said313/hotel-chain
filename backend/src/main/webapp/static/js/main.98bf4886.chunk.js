(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{49:function(e,t,a){e.exports=a(82)},54:function(e,t,a){},79:function(e,t,a){},82:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(20),o=a.n(r),i=(a(54),a(41)),c=a(42),s=a(48),u=a(47),m=a(14),d=a(3),p=a(4),E=function(){var e=Object(p.d)((function(e){return e.isLogged})),t=Object(p.d)((function(e){return e.user}));return l.a.createElement("main",{className:"Home"},l.a.createElement("h2",{className:"homeMainText"},"This is home page for ",e?t.firstname:"guest","!"),l.a.createElement("h3",{className:"homeWelcome"},"Welcome to our Hotel Chain!"),l.a.createElement("p",{className:"homeText"},"At our Hotel Chain, all-inclusive is synonymous with luxury. Our unique All Inclusive \u2013 All Exclusive offering combines all-inclusive advantages with exclusive privileges. The Hotel Chain offers exceptional escapes that go beyond the imagination to open a new world of horizons for our guests. Our expertise for balancing the ultra-all-inclusive concept with a vibrant, luxury ambience and family friendly adventures truly defines the Rixos experience. Rixos makes holiday dreams come true for everyone."))},h=a(7),g=a(24),b=a(15),f=a.n(b),v="http://localhost:8080/backend_war_exploded",y=function(){var e=Object(p.c)(),t=Object(d.f)(),a=Object(g.a)(),r=a.register,o=(a.errors,a.handleSubmit),i=Object(n.useState)(""),c=Object(h.a)(i,2),s=c[0],u=c[1];return l.a.createElement("div",{className:"Login"},l.a.createElement("div",null,l.a.createElement("h3",null,"Log in"),l.a.createElement("form",{onSubmit:o((function(a){f.a.post("".concat(v,"/services/auth/login"),{login:a.logLogin,password:a.logPassword}).then((function(a){console.log(a.data),console.log(Object.keys(a.data).length),0!==Object.keys(a.data).length?(e({type:"SIGN_IN"}),e({type:"SET_USER",payload:a.data}),u(""),t.push("/")):(e({type:"DELETE_USER"}),e({type:"SIGN_OUT"}),u("Invalid login or password!"))})).catch((function(t){e({type:"DELETE_USER"}),e({type:"SIGN_OUT"}),window.alert("Cannot access the server!"),console.log(t)}))}))},l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"loginInput",name:"logLogin",placeholder:"Enter login",required:!0,ref:r({required:!0})})),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"loginInput",name:"logPassword",placeholder:"Enter password",required:!0,minLength:"6",ref:r({required:!0})})),s&&l.a.createElement("p",{style:{color:"red"}},s),l.a.createElement("button",{className:"loginButton",type:"submit"},"Log in"),l.a.createElement("p",{className:"toSignupText"},"Do not have an account?"),l.a.createElement("button",{className:"signupButton",onClick:function(){t.push("/signup")}},"Sign up"))))},w=function(){var e=Object(d.f)(),t=Object(g.a)({mode:"onChange"}),a=t.register,r=t.errors,o=t.watch,i=t.handleSubmit,c=Object(n.useState)(!0),s=Object(h.a)(c,2),u=s[0],m=s[1],p=function(e){return l.a.createElement("p",{className:"validError"},e)};return l.a.createElement("div",{className:"Signup"},l.a.createElement("h3",null,"Sign up"),l.a.createElement("form",{onSubmit:i((function(t){if(u){var a=document.getElementById("signLogin").value;f.a.post("".concat(v,"/services/auth/signup"),{firstname:t.firstname,lastname:t.lastname,password:t.password,login:a,id_type:t.idType,id_number:t.idNumber,address:t.address,mobile_phone:t.mobilePhone,home_phone:t.homePhone,category:t.category,hotel_id:0,user_type:"guest"}).then((function(t){window.alert("You are signed up successfully!"),e.push("/login")})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}}))},l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"firstname",placeholder:"Firstname",required:!0,ref:a({required:!0})})),r.firstname&&p("Firstname is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"lastname",placeholder:"Lastname",required:!0,ref:a({required:!0})})),r.lastname&&p("Lastname is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"signInput",name:"password",placeholder:"Password",ref:a({minLength:6,validate:{letters:function(e){return/[a-zA-Z]/.test(e)},digits:function(e){return/[0-9]/.test(e)}}})})),r.password&&"letters"===r.password.type&&p("Password should contain at least 1 english letter!"),r.password&&"minLength"===r.password.type&&p("Password should contain at least 6 characters!"),r.password&&"digits"===r.password.type&&p("Password should contain at least 1 digit!"),l.a.createElement("div",null,l.a.createElement("input",{type:"password",className:"signInput",name:"repeatPassword",placeholder:"Re-type password",ref:a({validate:{confirmPassword:function(e){return e===o("password")}}})})),r.repeatPassword&&"confirmPassword"===r.repeatPassword.type&&p("Passwords do not match!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",id:"signLogin",className:"signInput",name:"signLogin",placeholder:"Login",required:!0,onChange:function(e){var t=e.target;f.a.post("".concat(v,"/services/auth/checkLogin"),{login:t.value,password:""}).then((function(e){m(!e.data)})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}})),!u&&p("This login is not available!"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"address",placeholder:"Address",required:!0,ref:a({required:!0})})),r.address&&p("Address is required!"),l.a.createElement("div",{className:"signIdType"},l.a.createElement("label",{htmlFor:"idType",id:"id_type"},"ID type: "),l.a.createElement("select",{name:"idType",required:!0,ref:a({required:!0})},l.a.createElement("option",{value:""}),l.a.createElement("option",{value:"us_passport"},"US passport"),l.a.createElement("option",{value:"driving_license"},"Driving license"))),r.idType&&p("Choose ID Type"),l.a.createElement("div",null,l.a.createElement("input",{type:"text",className:"signInput",name:"idNumber",placeholder:"ID number",required:!0,ref:a({required:!0})})),r.idNumber&&p("ID Number is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"tel",className:"signInput",name:"mobilePhone",placeholder:"Mobile phone",required:!0,ref:a({required:!0})})),r.mobilePhone&&p("Mobile phone is required!"),l.a.createElement("div",null,l.a.createElement("input",{type:"tel",className:"signInput",name:"homePhone",placeholder:"Home phone",required:!0,ref:a({required:!0})})),r.homePhone&&p("Home phone is required!"),l.a.createElement("div",{className:"signCategory"},l.a.createElement("label",{htmlFor:"category"},"Category: "),l.a.createElement("div",{id:"category"},l.a.createElement("input",{type:"radio",id:"cat_none",value:"",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_none"},"None"),l.a.createElement("input",{type:"radio",id:"cat_military",value:"military",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_military"},"Military"),l.a.createElement("input",{type:"radio",id:"cat_vip",value:"vip",ref:a,name:"category"}),l.a.createElement("label",{htmlFor:"cat_vip"},"Vip"))),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"signupButton"},"Submit"))))},N=a(22),_=a(23),O=function(){var e=Object(d.f)(),t=Object(p.d)((function(e){return e.isLogged})),a=Object(p.c)(),n=function(){e.push("/profile")};return l.a.createElement("div",null,l.a.createElement("nav",{className:"navigation"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(m.b,{to:"/"},"Home")),l.a.createElement("li",null,l.a.createElement(m.b,{to:"/booking"},"Booking")),t&&l.a.createElement("li",null,l.a.createElement(m.b,{to:"/profile"},"Profile"))),t?l.a.createElement("div",{className:"navLoggedIn"},l.a.createElement(N.a,{icon:_.a,className:"userIcon",onClick:n}),l.a.createElement("button",{className:"navButton",onClick:function(){a({type:"SIGN_OUT"}),a({type:"DELETE_USER"}),e.push("/")}},"Log out")):l.a.createElement("div",null,l.a.createElement("button",{className:"navButton",onClick:function(){e.push("/login")}},"Log in"),l.a.createElement("button",{className:"navButton",onClick:function(){e.push("/signup")}},"Sign up"))))},S=function(){var e=Object(p.d)((function(e){return e.isLogged})),t=Object(p.d)((function(e){return e.user})),a=Object(n.useState)("*".repeat(t.password.length)),r=Object(h.a)(a,2),o=r[0],i=r[1];return e?l.a.createElement("div",{className:"Profile"},console.log(t),l.a.createElement(N.a,{icon:_.a,className:"userProfileIcon"}),l.a.createElement("h3",null,"".concat(t.firstname," ").concat(t.lastname)),l.a.createElement("label",null,"Login: ")," ",t.login," ",l.a.createElement("br",null),l.a.createElement("label",null,"Address: ")," ",t.address," ",l.a.createElement("br",null),l.a.createElement("label",null,"Mobile phone: ")," ",t.mobile_phone," ",l.a.createElement("br",null),l.a.createElement("label",null,"Home phone: ")," ",t.home_phone," ",l.a.createElement("br",null),l.a.createElement("label",null,"Password: ")," ",o," ",l.a.createElement("button",{onClick:function(){o===t.password?i("*".repeat(t.password.length)):i(t.password)}},"Show"),l.a.createElement("br",null)):""},L=function(){var e=Object(d.f)(),t=Object(p.c)();return l.a.createElement("div",{className:"Booking"},l.a.createElement("h3",null,"Find Hotels"),l.a.createElement("form",{onSubmit:function(a){a.preventDefault();var n=a.target,l=n.querySelector(".dest").value,r=n.querySelector("#startDate").value,o=n.querySelector("#endDate").value;f.a.post("".concat(v,"/services/booking/query"),{destination:l,start:r,end:o}).then((function(a){t({type:"SET_HOTELS_LIST",payload:a.data}),e.push("/booking/hotels")})).catch((function(e){window.alert("Cannot access the server!"),console.log(e)}))}},l.a.createElement("input",{type:"text",className:"dest",placeholder:"Enter destination"}),l.a.createElement("label",null,"Arrival: "),l.a.createElement("input",{type:"date",className:"bookingDate",id:"startDate",required:!0}),l.a.createElement("label",null,"Departure: "),l.a.createElement("input",{type:"date",className:"bookingDate",id:"endDate"}),l.a.createElement("div",null,l.a.createElement("button",{type:"submit",className:"findHotelsButton"},"Find hotels"))))},I=function(){var e=Object(p.d)((function(e){return e.hotelsList}));return l.a.createElement("div",{className:"QueryResults"},l.a.createElement("h3",null,"Hotels Available"),e.forEach((function(e){return l.a.createElement("p",null,e.name)})))},T=(a(79),function(e){Object(s.a)(a,e);var t=Object(u.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return l.a.createElement(m.a,{basename:"/backend_war_exploded"},l.a.createElement("div",{className:"App"},l.a.createElement(O,null),l.a.createElement(d.c,null,l.a.createElement(d.a,{exact:!0,path:"/"},l.a.createElement(E,null)),l.a.createElement(d.a,{exact:!0,path:"/booking"},l.a.createElement(L,null)),l.a.createElement(d.a,{exact:!0,path:"/booking/hotels"},l.a.createElement(I,null)),l.a.createElement(d.a,{exact:!0,path:"/profile"},l.a.createElement(S,null)),l.a.createElement(d.a,{exact:!0,path:"/login"},l.a.createElement(y,null)),l.a.createElement(d.a,{exact:!0,path:"/signup"},l.a.createElement(w,null)))))}}]),a}(n.Component)),j=Object(p.b)((function(e){return{user:e.user,isLogged:e.isLogged}}),null)(T),q=a(44),x=a(13),k=a(30),D=a(45),P=a.n(D),C=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGN_IN":return!0;case"SIGN_OUT":return!1;default:return e}},H=a(46),R=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(H.a)({},t.payload);case"DELETE_USER":return{};default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_HOTELS_LIST":return t.payload;case"CLEAR_HOTELS_LIST":return[];default:return e}},A=Object(x.b)({isLogged:C,user:R,hotelsList:U}),B={key:"root",storage:P.a},F=Object(k.a)(B,A),M=Object(x.c)(F,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),G=Object(k.b)(M);o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p.a,{store:M},l.a.createElement(q.a,{loading:null,persistor:G},l.a.createElement(j,null)))),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.98bf4886.chunk.js.map